# **Terraform Command: `terraform apply`**

## **What is `terraform apply`?**
The `terraform apply` command is used to apply the changes required to reach the desired state of the configuration. It takes the execution plan generated by `terraform plan` and makes the necessary changes to your infrastructure.

- **Creates, updates, or destroys resources** based on your configuration.
- **Prompts for confirmation** before making changes (unless you use the `-auto-approve` flag).
- **Writes the updated state** to the state file after applying the changes.

---

## **Example Scenario**

Imagine you are writing a Terraform configuration to create an Azure Resource Group and a Storage Account. Letâ€™s see how `terraform apply` works in this context.

### **Steps to Apply the Configuration**

1. **Write the Configuration**  
   Save the above code in a file named `main.tf`.

2. **Initialize the Project**  
   Run `terraform init` to initialize the working directory and download the required provider plugins:
   ```bash
   terraform init
   ```

3. **Generate a Plan**  
   Run `terraform plan` to preview the changes:
   ```bash
   terraform plan
   ```

4. **Apply the Configuration**  
   Run `terraform apply` to apply the changes:
   ```bash
   terraform apply
   ```

5. **Expected Output**  
   Terraform will display the execution plan again and prompt for confirmation:
   ```
   Terraform will perform the following actions:

     # azurerm_resource_group.example_rg will be created
     + resource "azurerm_resource_group" "example_rg" {
         + id       = (known after apply)
         + location = "East US"
         + name     = "example-resource-group"
       }

     # azurerm_storage_account.example_storage will be created
     + resource "azurerm_storage_account" "example_storage" {
         + id                     = (known after apply)
         + location               = "East US"
         + name                   = "examplestorageacct"
         + resource_group_name    = "example-resource-group"
         + account_tier           = "Standard"
         + account_replication_type = "LRS"
       }

   Plan: 2 to add, 0 to change, 0 to destroy.

   Do you want to perform these actions?
     Terraform will perform the actions described above.
     Only 'yes' will be accepted to approve.

     Enter a value:
   ```

6. **Confirm the Changes**  
   Type `yes` and press Enter to apply the changes.

7. **Output After Applying**  
   Once the resources are created, Terraform will display the following:
   ```
   azurerm_resource_group.example_rg: Creating...
   azurerm_resource_group.example_rg: Creation complete after 2s [id=/subscriptions/your-subscription-id/resourceGroups/example-resource-group]
   azurerm_storage_account.example_storage: Creating...
   azurerm_storage_account.example_storage: Creation complete after 5s [id=/subscriptions/your-subscription-id/resourceGroups/example-resource-group/providers/Microsoft.Storage/storageAccounts/examplestorageacct]

   Apply complete! Resources: 2 added, 0 changed, 0 destroyed.
   ```
